export default function setup_attack(request, attack) {
  const onDone = (result) => {
    const theresults = result.results.filter((x) => {
      // console.log(x);
      // console.log(x.result);
      // console.log(x.result.length);
      // console.log(50 < x.result.length);
      return 50 < x.result.length;
    });
    if (theresults.length !== 0) {
      const stuff = { ...result, results: theresults };
      console.log(stuff);
    }
    chrome.runtime.onMessage.removeListener(onDone);
  };
  chrome.runtime.onMessage.addListener(onDone);
  chrome.runtime.sendMessage({ [`${attack}`]: request });
}
