import { setup_response } from "../utils/methods.js";

export default async function template(request) {
  let results = [];
  let fetchList = [];
  let lstOfAttacks = [];

  for (let index = 0; index < lstOfAttacks.length; index++) {
    const attack = lstOfAttacks[index];

    let thebody = "";

    // setup the attack with the payload

    fetchList.push(`await fetch('${request.url}', {
      method: '${request.method}',
      body: '${thebody}',
    }).then((x) => x.text())`);

    await fetch(`${request.url}`, {
      method: `${request.method}`,
      body: `${thebody}`,
    })
      .then((x) => x.text())
      .then((x) => results.push(x));
  }

  setup_response(request, results, fetchList);
}
